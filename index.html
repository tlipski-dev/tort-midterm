<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Tort Quiz — Self-Grading</title><meta name="description" content="Click-to-grade multiple choice quiz for torts."><style>  :root{    --bg:#f6f7fb;    --card:#ffffff;    --ink:#0f172a;    --muted:#51576d;    --border:#e6e8f0;    --ok:#16a34a;    --bad:#dc2626;    --accent:#111;  }  *{box-sizing:border-box}  body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.55}  header{background:var(--accent);color:#fff;padding:28px 18px}  header h1{margin:0;font-size:1.6rem}  header p{margin:6px 0 0;color:#d1d5db}  main{max-width:960px;margin:22px auto;padding:0 16px 60px}  .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 1px 2px rgba(0,0,0,.05);padding:18px;margin:14px 0}  .toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center}  button{appearance:none;border:1px solid var(--border);background:#fff;border-radius:10px;padding:10px 14px;cursor:pointer}  button.primary{background:var(--accent);color:#fff;border-color:var(--accent)}  .topic{display:inline-block;font-size:.72rem;background:#eef;border:1px solid #d9defa;color:#334;padding:3px 10px;border-radius:999px;margin-bottom:8px}  .qtitle{font-weight:700;margin:2px 0 10px}  .choices{display:grid;gap:10px}  .choice{border:1px solid var(--border);border-radius:12px;padding:12px;background:#fafafe;cursor:pointer;text-align:left}  .choice:hover{background:#f2f4ff}  .choice.correct{border-color:var(--ok);background:#ecfdf5}  .choice.incorrect{border-color:var(--bad);background:#fef2f2}  .feedback{margin-top:10px;display:none;padding:12px;border-radius:12px}  .feedback.ok{background:#ecfdf5;border:1px solid var(--ok)}  .feedback.no{background:#fef2f2;border:1px solid var(--bad)}  #scorebox{position:sticky;bottom:12px;right:12px;display:inline-flex;gap:8px;background:var(--accent);color:#fff;padding:10px 14px;border-radius:999px;margin-left:auto}  .muted{color:var(--muted)}  details summary{cursor:pointer}  pre{white-space:pre-wrap;background:#f5f6fb;border:1px solid var(--border);border-radius:12px;padding:12px;overflow:auto}  .empty{padding:16px;border:1px dashed var(--border);border-radius:12px;background:#fbfbfe}</style></head><body><header>  <h1>Tort Quiz — Self-Grading</h1>  <p class="muted">Click an answer to see immediate feedback and an explanation. Works offline. Add your questions in <code>questions.json</code>.</p></header><main>  <section class="card toolbar">    <button id="resetBtn">Reset quiz</button>    <button id="revealBtn">Reveal all answers</button>    <span id="scorebox">Score: <strong id="score">0</strong>/<span id="total">0</span></span>  </section>  <div id="emptyState" class="card empty" style="display:none">    <strong>No questions found.</strong>    <div class="muted">Add a file named <code>questions.json</code> in the same folder as this page. Then refresh.</div>  </div>  <div id="quiz"></div>  <details class="card">    <summary><strong>How to add questions (no code)</strong></summary>    <ol>      <li>Create a plain text file named <code>questions.json</code> in the same folder.</li>      <li>Paste an array of question objects using this schema:</li>    </ol>    <pre>[  {    "id": "q1",    "topic": "Duty",    "question": "Write the question text here...",    "choices": ["A...", "B...", "C...", "D..."],    "answer_index": 2,    "explanation": "Why the correct option is right (and why others aren’t)."  }]</pre>    <p class="muted">Tip: Keep multiple sets (e.g., <code>duty.json</code>, <code>causation.json</code>). Rename the one you want to <code>questions.json</code>.</p>  </details></main><script>const quizEl = document.getElementById('quiz');const scoreEl = document.getElementById('score');const totalEl = document.getElementById('total');const resetBtn = document.getElementById('resetBtn');const revealBtn = document.getElementById('revealBtn');const emptyState = document.getElementById('emptyState');let QUESTIONS = [];let score = 0;// Load questions from questions.json (same folder)async function loadQuestions() {  try {    const res = await fetch('questions.json', {cache:'no-store'});    if (!res.ok) throw new Error('no questions file');    QUESTIONS = await res.json();  } catch (e) {    QUESTIONS = [];  }  renderQuiz();}function renderQuiz() {  quizEl.innerHTML = '';  score = 0;  scoreEl.textContent = score;  totalEl.textContent = QUESTIONS.length || 0;  if (!QUESTIONS.length) {    emptyState.style.display = 'block';    return;  } else {    emptyState.style.display = 'none';  }  QUESTIONS.forEach((q, idx) => {    const card = document.createElement('section');    card.className = 'card';    card.dataset.index = idx;    if (q.topic) {      const topic = document.createElement('div');      topic.className = 'topic';      topic.textContent = q.topic;      card.appendChild(topic);    }    const title = document.createElement('h3');    title.className = 'qtitle';    title.textContent = `Q${idx+1}. ${q.question}`;    card.appendChild(title);    const choices = document.createElement('div');    choices.className = 'choices';    q.choices.forEach((text, cIdx) => {      const btn = document.createElement('button');      btn.className = 'choice';      btn.type = 'button';      btn.textContent = text;      btn.addEventListener('click', () => onChoose(card, btn, cIdx === q.answer_index, q));      choices.appendChild(btn);    });    const fb = document.createElement('div');    fb.className = 'feedback';    fb.id = `fb-${idx}`;    card.appendChild(choices);    card.appendChild(fb);    quizEl.appendChild(card);  });}function onChoose(card, btn, correct, q) {  // Disable all choices for this card  const buttons = card.querySelectorAll('.choice');  buttons.forEach(b => b.disabled = true);  // Mark states  buttons.forEach((b, i) => {    if (i === q.answer_index) b.classList.add('correct');  });  if (!correct) btn.classList.add('incorrect');  // Feedback  const fb = card.querySelector('.feedback');  fb.style.display = 'block';  if (correct) {    fb.classList.add('ok');    fb.innerHTML = `<strong>Correct!</strong><br>${q.explanation || 'Nice work.'}`;    score += 1;    scoreEl.textContent = score;  } else {    fb.classList.add('no');    const ans = q.choices[q.answer_index];    fb.innerHTML = `<strong>Not quite.</strong> Correct answer: <em>${ans}</em><br>${q.explanation || ''}`;  }}resetBtn.addEventListener('click', renderQuiz);revealBtn.addEventListener('click', () => {  // Auto-select correct answers on all  document.querySelectorAll('section.card').forEach((card, idx) => {    const q = QUESTIONS[idx];    if (!q) return;    const buttons = card.querySelectorAll('.choice');    buttons.forEach(b => b.disabled = true);    if (buttons[q.answer_index]) buttons[q.answer_index].classList.add('correct');    const fb = card.querySelector('.feedback');    fb.style.display = 'block';    fb.classList.remove('no'); fb.classList.add('ok');    const ans = q.choices[q.answer_index];    fb.innerHTML = `<strong>Answer:</strong> <em>${ans}</em><br>${q.explanation || ''}`;  });});loadQuestions();</script></body></html>